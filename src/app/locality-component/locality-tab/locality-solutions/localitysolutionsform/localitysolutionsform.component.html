<div class="my-container">
  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
</div>
<ng-template #insta let-c="close" let-d="dismiss">
<div class="modal-header">
	<h4 class="modal-title">Solution</h4>
	<button type="button" class="close" aria-label="Close" (click)="d()">
		<span aria-hidden="true">&times;</span>
	</button>
</div>
<div class="modal-body">
	<p>{{contentData}}!</p>
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-outline-dark" (click)="c()">Close</button>
</div>
</ng-template>

<ng-template #box let-c="close" let-d="dismiss">
<div class="modal-header">
	<h4 class="modal-title">Solution</h4>
	<button type="button" class="close" aria-label="Close" (click)="d()">
		<span aria-hidden="true">&times;</span>
	</button>
</div>
<div class="modal-body">
	<p>{{contentData}}!</p>
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-outline-dark confbtn" (click)="c()">Close</button>
</div>
</ng-template>




<ng-template #content let-c="close" let-d="dismiss">
<div class="modal-header">
	<h4 class="modal-title">Enter Device Information</h4>
	<button type="button" class="close" aria-label="Close" (click)="d()">
		<span aria-hidden="true" style="color: white">&times;</span>
	</button>
</div>
<div class="modal-body">
	<div class="save-edit" style="float: right">
		<fa *ngIf="boxVisible" (click)="showClick()" class="edit-icon icons" data-toggle="tooltip"
			data-pla cement="right" title="Save" data-animation="true"
			data-delay="0" [name]="'edit'"></fa>
		<!-- 			(click)="editClick()" -->
	</div>
	<form class=form [formGroup]="modalForm"
		(ngSubmit)="addDevice(modalForm.value);c()">
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="model">Model Number</label>

				<div class="asterisk">*</div>
				<input type="email" class="form-control" id="modelNumber"
					placeholder="Equipment Model Number" formControlName="modelNumber">

			</div>
			<div class="form-group col-md-6">
				<label for="serial">Serial Number</label>
				<div class="asterisk">*</div>
				<input type="text" class="form-control" id="serialNumber"
					placeholder="Equipment Serial Number"
					formControlName="serialNumber">
			</div>
		</div>
		<p>
			<b>Physical Address</b>
		</p>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="street">Street 1</label>
				<div class="asterisk">*</div>
				<input type="text" class="form-control" id="street1"
					placeholder="enter here" formControlName="street1">
			</div>
			<div class="form-group col-md-6">
				<label for="street">Street 2</label>
				<div class="asterisk">*</div>
				<input type="text" class="form-control" id="street2"
					placeholder="enter here" formControlName="street2">
			</div>



		</div>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="state">State</label>
				<div class="asterisk">*</div>
				<select id="inputState" class="form-control" id="state"
					formControlName=state>
					<option selected>Choose...</option>
					<option value="AL">Alabama</option>
	<option value="AK">Alaska</option>
	<option value="AZ">Arizona</option>
	<option value="AR">Arkansas</option>
	<option value="CA">California</option>
	<option value="CO">Colorado</option>
	<option value="CT">Connecticut</option>
	<option value="DE">Delaware</option>
	<option value="DC">District Of Columbia</option>
	<option value="FL">Florida</option>
	<option value="GA">Georgia</option>
	<option value="HI">Hawaii</option>
	<option value="ID">Idaho</option>
	<option value="IL">Illinois</option>
	<option value="IN">Indiana</option>
	<option value="IA">Iowa</option>
	<option value="KS">Kansas</option>
	<option value="KY">Kentucky</option>
	<option value="LA">Louisiana</option>
	<option value="ME">Maine</option>
	<option value="MD">Maryland</option>
	<option value="MA">Massachusetts</option>
	<option value="MI">Michigan</option>
	<option value="MN">Minnesota</option>
	<option value="MS">Mississippi</option>
	<option value="MO">Missouri</option>
	<option value="MT">Montana</option>
	<option value="NE">Nebraska</option>
	<option value="NV">Nevada</option>
	<option value="NH">New Hampshire</option>
	<option value="NJ">New Jersey</option>
	<option value="NM">New Mexico</option>
	<option value="NY">New York</option>
	<option value="NC">North Carolina</option>
	<option value="ND">North Dakota</option>
	<option value="OH">Ohio</option>
	<option value="OK">Oklahoma</option>
	<option value="OR">Oregon</option>
	<option value="PA">Pennsylvania</option>
	<option value="RI">Rhode Island</option>
	<option value="SC">South Carolina</option>
	<option value="SD">South Dakota</option>
	<option value="TN">Tennessee</option>
	<option value="TX">Texas</option>
	<option value="UT">Utah</option>
	<option value="VT">Vermont</option>
	<option value="VA">Virginia</option>
	<option value="WA">Washington</option>
	<option value="WV">West Virginia</option>
	<option value="WI">Wisconsin</option>
	<option value="WY">Wyoming</option>

					<option>...</option>
				</select>
			</div>
			<div class="form-group col-md-6">
				<label for="city">City</label>
				<div class="asterisk">*</div>
				<input type="text" class="form-control" id="city"
					placeholder="enter here" formControlName="city">
			</div>


		</div>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="inputZip">Zip Code</label>
				<div class="asterisk">*</div>
				<input type="text" class="form-control" pattern="[0-9]{5}"
					title='Zip Code (Format: 00000)' id="zipCode"
					formControlName=zipCode>
			</div>
		</div>
		<hr />
		
			<label>Overall Scanning Status</label>
			<div class="asterisk">*</div>
		
		<div>
			<select id="inputState" class="form-control"
				formControlName=overallStatus>
				<option selected>Choose...</option>
				<option value="Passed">Passed</option>
				<option value="Failed">Failed</option>
				<option value="Pending">Pending</option>

			</select>
		</div>
		<hr />
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="dueDate">Next Scanning Date</label>
				<div class="asterisk">*</div>
						 
				<my-date-picker name="myname" [selDate]="selectDate"
					formControlName=nextScanningDt (dateChanged)="getDate($event)"></my-date-picker>
					<p style ="color:red;font-weight:bold;">{{err}}</p>
			</div>
		</div>
		<hr />
		<p>
			<b>Notes</b>
			
		</p>
		<div>
			<textarea name="" id="" rows="5" class="form-control"
				formControlName=notes></textarea>
		</div>
		<hr />
		<p>
			<b>Attachments</b>
		</p>
		<div>
			<div class="col-sm-5 col-md-5 col-lg-5">
				<label class="input"> <input type="file"
					file-model="attachment" data-btn-text="Select a File"
					accept=".pdf,.doc,.docx">

				</label>
			</div>

		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-outline-dark" (click)="c()">Close</button>
			<button *ngIf="showButton" type="submit" class="submit btn btn-primary"
				[disabled]="modalForm.invalid">Save</button>
						<button *ngIf="!showButton" type="submit" class="submit btn btn-primary"
				[disabled]="modalForm.invalid">Update</button>


		</div>
	</form>

</div>


</ng-template>
<div class="plus">
	<i class="fa fa-edit" (click)="editClicked()" aria-hidden="true"
		style="font-size: 24px;" *ngIf="notVisible"></i> <a><fa
			(click)="backClicked()" class="left-icons left-icon icons"
			[name]="'arrow-left'"></fa></a>
</div>
<div class="former clear-right">

  
      <div class="form-row">
        <div class="form-group col-md-6">
  
          <label for="inputState">Acronym</label>
          <div class="asterisk">*</div>
          <input type="text" class="form-control" id="lastName" value="{{ acronym}}" readonly="readonly">
        </div>
        <div class="form-group col-md-6">
          <label for="lastName">Last updated by</label>
          <input type="text" class="form-control" id="lastName"  readonly="readonly">
        </div>
      </div>
  
  
  
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="lastName">Name</label>
          <div class="asterisk">*</div>
          <input type="text" class="form-control" id="lastName" value="enter here">
        </div>
        <div class="form-group col-md-6">
          <label for="email">Updated at</label>
          <input type="email" class="form-control" id="email" value="{{ updatedTime}}">
        </div>
      </div>


</div>











<form #formName="ngForm" class="former  clear-right"
	(ngSubmit)="saveAppSolution()">
	<fieldset [disabled]="editForm">
		<p>
			<b>APPLICATION SOLUTIONS</b>
		</p>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="modelSolution">Precinct Type</label> 
				<div class="asterisk">*</div>
				<input type="text"
					[(ngModel)]="applicationSolution.solutionsDTO.precinctTypeName"
					class="form-control" *ngIf="!isAddNewSolution" ngModel name="name"
					required> <select id="modelSolution"
					*ngIf="isAddNewSolution" class="form-control"
					(change)="selectPrecinct($event.target.value)" ngModel name="name"
					required>
					<option selected>Choose...</option>
					<option *ngFor="let precinct of precinctTypes"
						value="{{ precinct.precinctTypeId }}">{{precinct.typeName}}</option>

				</select>
			</div>




			<div class="form-group col-md-6">
				<label for="modelSolution">System Type</label>
				<div class="asterisk">*</div> <input type="text"
					class="form-control" name="system" *ngIf="!isAddNewSolution"
					[(ngModel)]="applicationSolution.solutionsDTO.systemTypeDTO.name" ngModel name="system" required>
				<select id="modelSolution" *ngIf="isAddNewSolution"
					class="form-control"
					(change)="selectSystemType($event.target.value)" ngModel
					name="system" required>
					<option selected>Choose...</option>
					<option *ngFor="let systemType of systemTypes"
						value="{{ systemType.systemTypeId }}">{{systemType.name}}</option>

				</select>
			</div>
		</div>

	


		<!-- 	 <input type="text"  -->
		<!--  					class="form-control" *ngIf="!isAddNewSolution" name="name"  -->
		<!-- 				[(ngModel)]="applicationSolution.solutionsDTO.name"> -->
		<div>
			<div class="form-row">
		<div class="form-group col-12">
				<label for="lastName">Model/Solution</label>
				<div class="asterisk">*</div>
				 <input type="text"
					class="form-control" *ngIf="!isAddNewSolution" ngModel name="modelSname"
					[(ngModel)]="applicationSolution.solutionsDTO.name" required> <select
					*ngIf="isAddNewSolution"
					id="inputState" class="form-control"
					[(ngModel)]="applicationSolution.solutionsDTO.name"
					(change)="selectModSolution($event.target.value)" ngModel
					name="modelSname" required>

					<option selected>Choose...</option>
					<option *ngFor="let name of names" value="{{name.solutionId}}">{{name.name}}</option>

				</select>
</div>
			</div>

			<div *ngIf="showInnerForm">
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="lastName">Version</label>
						<div class="asterisk">*</div>
						 <input type="text"
							class="form-control" ngModel name="versionNumber" required
							[(ngModel)]="applicationSolution.solutionsDTO.versionNumber">
					</div>
					
					<div class="form-group col-md-6">
						<label for="lastName">Equipment Type</label>
						<div class="asterisk">*</div> <input type="text"
							class="form-control" ngModel name="solutionTypeName" required
							[(ngModel)]="applicationSolution.solutionsDTO.solutionTypeName">
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="lastName">Vendor</label>
						<div class="asterisk">*</div> <input type="text"
							class="form-control" ngModel name="vendors" required
							[(ngModel)]="applicationSolution.solutionsDTO.vendor.name">
					</div>
				</div>

				<hr />
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="lastName">Hosting Type</label>
						<div class="asterisk">*</div> <input type="text"
							class="form-control" *ngIf="!isAddNewSolution" ngModel
							name="hostingTypeId" required
							[(ngModel)]="applicationSolution.solutionsDTO.hostingTypeDTO.name">
						<select id="inputState" *ngIf="isAddNewSolution"
							class="form-control" ngModel name="modelHname" required
							[(ngModel)]="applicationSolution.solutionsDTO.hostingTypeDTO.name">
							<option>Choose...</option>
							<option value="Not Applicable">Not Applicable</option>
							<option value="Wireless - Cloud">Wireless - Cloud</option>
							<option value="Wireless - OnPrem">Wireless - OnPrem</option>

						</select>


					</div>
				</div>


				<div class="form-row" *ngIf="isVisible">
					<div class="form-group col-md-6">
						<label for="units">Add Unit</label>
						<div class="plus">

							<!-- 							 [ngClass]="{disabled: editableForm}" -->
							<i class="fa fa-plus-square-o" aria-hidden="true"
								style="font-size: 24px;" (click)="open1()"></i>

						</div>
						<table class="table table-striped table-hover table-bordere">
							<thead>
								<tr>

									<th scope="col">Model #</th>
									<th scope="col">Serial #</th>
									<th scope="col">Next due date</th>
									<th scope="col">Overall status</th>
								</tr>
							</thead>
							<tbody>

								<tr *ngFor="let table of devices">
									<td><a class="box" (click)="open2(table)">{{
											table.modelNumber }}</a></td>
									<td>{{ table.serialNumber }}</td>
									<td>{{ table.nextScanningDt | filterDate }}</td>
									<td>{{ table.overallStatus }}</td>

								</tr>

							</tbody>
						</table>
					</div>

				</div>



			</div>
			<button type="submit" class="btn btn-primary"
				[disabled]="!formName.valid" *ngIf="isClick">Submit </button>
			<button type="submit" class="btn btn-primary" (click)="close()">Close</button>


		</div>
	</fieldset>
</form>