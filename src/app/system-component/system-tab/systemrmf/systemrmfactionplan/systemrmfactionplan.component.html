<div class="my-container">
  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
</div>

<div>
  <form #myForm="ngForm">

    <div style="
    margin-bottom: -1%;float: right;">
      <fa *ngIf="showEdit" class="edit-icon icons" [name]="'edit'" (click)="valueChanged()"></fa>

      <fa *ngIf="myForm.valid && !showEdit" (click)="saveRmf()" class="fa fa-floppy-o rmfIcons" aria-hidden="true"></fa>
      <fa (click)="showRmf()" class="fa fa-times rmfIcons" aria-hidden="true"></fa>



    </div>


    <div class="infoBox">
      <div class="headerOfBox">
        <h4>Action Plan</h4>
      </div>

      <fieldset [disabled]="showEdit">

        <div class="form-row">
          <div class="form-group col-md-6">

            <label class="fam">Start Date </label>

            <my-date-picker name="startDate" class="inputState1" [disabled]='showEdit' ngModel
              (dateChanged)="getStartDate($event)" [(ngModel)]="startDate" required></my-date-picker>
          </div>
          <div class="form-group col-md-6">
            <label class="fam">End Date </label>

            <my-date-picker name="endDate" [disabled]='showEdit' class="inputState1" ngModel
              (dateChanged)="getEndDate($event)" [options]="myDatePickerOptions" [(ngModel)]="endDate" required>
            </my-date-picker>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">

            <label class="fam">Assigned To <span class="asterisk">*</span></label>
            <select name="systemOwner" style="width:50%;" [(ngModel)]="rmfApplicationDTO.actionPlanAssignedTo"
              class="form-control" id="searchUsers" (change)="rmfApplicationDTO.actionPlanAssignedTo=$event.target.value"
              required>
              <option value="" selected>Choose...</option>
              <option *ngFor="let getUser of users" value="{{ getUser.firstName}} {{getUser.lastName }}">
                {{ getUser.firstName}} {{getUser.lastName }}</option>
            </select>
          </div>

        </div>
        <div class="form-row">
          <div class="col-md-12">

            <span class="fam" style="font-weight: bold;">Summary</span>
            <tinymce name="summary" disabled=true *ngIf="showEdit" [(ngModel)]="rmfApplicationDTO.actionPlanSummary"
              [config]="config1">
            </tinymce>
            <tinymce name="summary" *ngIf="!showEdit" [(ngModel)]="rmfApplicationDTO.actionPlanSummary"
              [config]="config1">
            </tinymce>
            remaining {{50000 -len1}}
          </div>


        </div>
        <div class="form-row">
          <div class="col-md-12">
            <span class="fam" style="font-weight: bold;">Tasks</span>
            <tinymce name="tasks" disabled=true *ngIf="showEdit" [(ngModel)]="rmfApplicationDTO.actionPlanTasks"
              [config]="config">
            </tinymce>
            <tinymce name="tasks" *ngIf="!showEdit" [(ngModel)]="rmfApplicationDTO.actionPlanTasks" [config]="config">
            </tinymce>
            remaining {{50000 -len}}
          </div>


        </div>
        <div class="form-row">

          <div class="col-md-12">

            <span class="fam" style="font-weight: bold;">Closeout Comments</span>
            <tinymce name="comments" disabled=true *ngIf="showEdit"
              [(ngModel)]="rmfApplicationDTO.actionPlanCloseoutComments" [config]="config2">
            </tinymce>
            <tinymce name="comments" *ngIf="!showEdit" [(ngModel)]="rmfApplicationDTO.actionPlanCloseoutComments"
              [config]="config2">
            </tinymce>
            remaining {{50000 -len2}}
          </div>

        </div>
      </fieldset>
    </div>
  </form>
</div>